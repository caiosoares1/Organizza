<div class="dashboard-container">
  <!-- Header da Dashboard -->
  <div class="dashboard-header">
    <div class="welcome-section">
      <h1 class="dashboard-title">
        <mat-icon class="title-icon">dashboard</mat-icon>
        Dashboard Principal
      </h1>
      <p class="dashboard-subtitle">Gerencie suas atividades de forma organizada</p>
    </div>
  </div>

  <!-- Cards de Navegação Principal -->
  <div class="navigation-section">
    <h2 class="section-title">
      <mat-icon>apps</mat-icon>
      Navegação Rápida
    </h2>
    
    <div class="navigation-cards">
      <div class="nav-card" (click)="navigateToActivities()" role="button" tabindex="0" (keydown.enter)="navigateToActivities()">
        <div class="nav-card-icon activities-icon">
          <mat-icon>event_note</mat-icon>
        </div>
        <div class="nav-card-content">
          <h3 class="nav-card-title">Minhas Atividades</h3>
          <p class="nav-card-description">Visualize e gerencie todas as suas atividades agendadas</p>
          <div class="nav-card-stats">
            <span class="stats-number">{{totalPending}}</span>
            <span class="stats-label">pendentes</span>
          </div>
        </div>
        <div class="nav-card-action">
          <mat-icon>arrow_forward</mat-icon>
        </div>
      </div>

      <div class="nav-card" (click)="navigateToCalendar()" role="button" tabindex="0" (keydown.enter)="navigateToCalendar()">
        <div class="nav-card-icon calendar-icon">
          <mat-icon>calendar_today</mat-icon>
        </div>
        <div class="nav-card-content">
          <h3 class="nav-card-title">Calendário</h3>
          <p class="nav-card-description">Visualize suas atividades em formato de calendário</p>
          <div class="nav-card-stats">
            <span class="stats-number">{{totalToday}}</span>
            <span class="stats-label">hoje</span>
          </div>
        </div>
        <div class="nav-card-action">
          <mat-icon>arrow_forward</mat-icon>
        </div>
      </div>

      <div class="nav-card" (click)="navigateToNewActivity()" role="button" tabindex="0" (keydown.enter)="navigateToNewActivity()">
        <div class="nav-card-icon add-icon">
          <mat-icon>add_circle</mat-icon>
        </div>
        <div class="nav-card-content">
          <h3 class="nav-card-title">Nova Atividade</h3>
          <p class="nav-card-description">Cadastre uma nova atividade no seu cronograma</p>
          <div class="nav-card-stats">
            <span class="stats-number">+</span>
            <span class="stats-label">criar</span>
          </div>
        </div>
        <div class="nav-card-action">
          <mat-icon>arrow_forward</mat-icon>
        </div>
      </div>

      <div class="nav-card" (click)="navigateToReports()" role="button" tabindex="0" (keydown.enter)="navigateToReports()">
        <div class="nav-card-icon reports-icon">
          <mat-icon>assessment</mat-icon>
        </div>
        <div class="nav-card-content">
          <h3 class="nav-card-title">Relatórios</h3>
          <p class="nav-card-description">Acompanhe suas estatísticas e produtividade</p>
          <div class="nav-card-stats">
            <span class="stats-number">{{totalCompleted}}</span>
            <span class="stats-label">completas</span>
          </div>
        </div>
        <div class="nav-card-action">
          <mat-icon>arrow_forward</mat-icon>
        </div>
      </div>
    </div>
  </div>

  <!-- Resumo Rápido -->
  <div class="summary-section">
    <h2 class="section-title">
      <mat-icon>insights</mat-icon>
      Resumo Rápido
    </h2>
    
    <div class="quick-summary">
      <div class="summary-card">
        <div class="summary-icon pending">
          <mat-icon>schedule</mat-icon>
        </div>
        <div class="summary-content">
          <h4>Pendentes</h4>
          <span class="summary-number">{{totalPending}}</span>
        </div>
      </div>

      <div class="summary-card">
        <div class="summary-icon completed">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="summary-content">
          <h4>Concluídas</h4>
          <span class="summary-number">{{totalCompleted}}</span>
        </div>
      </div>

      <div class="summary-card">
        <div class="summary-icon revenue">
          <mat-icon>attach_money</mat-icon>
        </div>
        <div class="summary-content">
          <h4>Receita</h4>
          <span class="summary-number">{{formatCurrency(totalRevenue)}}</span>
        </div>
      </div>

      <div class="summary-card">
        <div class="summary-icon today">
          <mat-icon>today</mat-icon>
        </div>
        <div class="summary-content">
          <h4>Hoje</h4>
          <span class="summary-number">{{totalToday}}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Próximas Atividades -->
  <div class="upcoming-section">
    <h2 class="section-title">
      <mat-icon>upcoming</mat-icon>
      Próximas Atividades (2 dias)
    </h2>
    
    <div class="upcoming-activities">
      <div class="activities-list" *ngIf="upcomingActivities.length > 0; else noUpcomingActivities">
        <div class="upcoming-activity-card" 
             *ngFor="let activity of upcomingActivities"
             [class]="getActivityStatusClass(activity)">
          
          <!-- Data da atividade -->
          <div class="activity-date-badge">
            <div class="date-text">{{formatDateForCard(activity.date)}}</div>
            <div class="time-text">{{formatTime(activity)}}</div>
          </div>
          
          <!-- Conteúdo da atividade -->
          <div class="activity-content">
            <div class="activity-header">
              <h4 class="activity-title">{{activity.title}}</h4>
              <div class="activity-status-icon">
                <mat-icon *ngIf="!activity.done">schedule</mat-icon>
                <mat-icon *ngIf="activity.done" class="completed-icon">check_circle</mat-icon>
              </div>
            </div>
            
            <p class="activity-description">{{activity.description}}</p>
            
            <div class="activity-details">
              <div class="detail-row" *ngIf="activity.clientName">
                <mat-icon class="detail-icon">person</mat-icon>
                <span>{{activity.clientName}}</span>
              </div>
              
              <div class="detail-row" *ngIf="activity.address">
                <mat-icon class="detail-icon">location_on</mat-icon>
                <span>{{activity.address}}</span>
              </div>
              
              <div class="detail-row price-row">
                <mat-icon class="detail-icon">attach_money</mat-icon>
                <span>{{formatCurrency(activity.price)}}</span>
                <span class="payment-status" [class.paid]="activity.paied">
                  {{activity.paied ? 'Pago' : 'Pendente'}}
                </span>
              </div>
            </div>
          </div>
          
          <!-- Ações rápidas -->
          <div class="activity-actions">
            <button mat-icon-button 
                    color="primary"
                    (click)="markAsCompleted(activity)"
                    *ngIf="!activity.done"
                    matTooltip="Marcar como concluída">
              <mat-icon>check</mat-icon>
            </button>
            
            <button mat-icon-button 
                    color="accent"
                    matTooltip="Editar atividade">
              <mat-icon>edit</mat-icon>
            </button>
          </div>
        </div>
      </div>
      
      <ng-template #noUpcomingActivities>
        <div class="no-upcoming-activities">
          <div class="no-activities-icon">
            <mat-icon>event_available</mat-icon>
          </div>
          <h3>Nenhuma atividade próxima</h3>
          <p>Você não tem atividades agendadas para os próximos 2 dias!</p>
          <button mat-raised-button 
                  color="primary" 
                  (click)="navigateToNewActivity()"
                  class="schedule-activity-btn">
            <mat-icon>add</mat-icon>
            Agendar Atividade
          </button>
        </div>
      </ng-template>
    </div>
  </div>
</div>
